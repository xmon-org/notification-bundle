includes:
    # Integración Symfony (container, services, etc.)
    - vendor/phpstan/phpstan-symfony/extension.neon

parameters:
    # Nivel medio-alto, razonable para un bundle
    level: 5

    # Solo analizamos el código del bundle
    paths:
        - src

    # Cache and parallel settings
    tmpDir: .phpstan/cache
    parallel:
        maximumNumberOfProcesses: 4

    # Código que depende de cosas opcionales o externas
    excludePaths:
        # Configuración interna de Symfony DI (no requiere análisis estricto)
        - src/DependencyInjection/Configuration.php

    # PHPDoc no siempre es verdad en bundles
    treatPhpDocTypesAsCertain: false

    # Ignorar SOLO cosas conocidas y justificadas
    ignoreErrors:
        # Symfony generics (común en bundles)
        - '#generic class Symfony\\Component\\DependencyInjection\\.+ but does not specify its types#'

        # Event dispatching generics
        - '#generic interface Symfony\\Contracts\\EventDispatcher\\EventDispatcherInterface but does not specify its types#'

    # No reportar errores de ignoreErrors no usados
    reportUnmatchedIgnoredErrors: false
